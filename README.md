CRM для мебельного интернет-магазина
====================================

Демо: http://test1.berlinsky.ru/

логин администратора admin пароль q12345
логин менеджера manager пароль 123456

ТЗ на разработку Веб-приложения - CRM1.0

Роли в системе: Администратор, Менеджер.

Роль Администратор.

Показывать меню сверху со следующими пунктами: Справочники - Книги, Пользователи; Отчеты

1.Страница Пользователи.
Блок кнопок: Добавить

Таблица со столбцами: логин, роль, активен, колонка-кнопка Редактировать.

2.Страница Пользователь.

Поля для ввода: логин (email), пароль, роль, активен.


3.Страница Книги.
Форма фильтрации с поля: фраза - искать по вхождению(фразе) в title книги.

Блок кнопок: Добавиь.

Таблица со столбцами: title, asin(уник. значение), ссылка на страницу в amazon, рейтинг(число), ревью(число), ранк(число), колонка-кнопка Редактировать.

Т.к. рейтинг, ревью, ранк по книге хранятся с разными датами, то надо выводить в таблице самые последние значения.

4.Страница Книга.
Поля: title, asin (не редактируемое поле), дата публикации(submitted on), ссылка на страницу в amazon, рейтинг(число), ревью(число), ранк(число).

Т.к. рейтинг, ревью, ранк по книге хранятся с разными датами, то надо выводить в таблице самые последние значения.

5.Страница Авторы.
Форма фильтрации с поля: фраза - искать по вхождению(фразе) в имени автора.
Таблица со столбцами: имя, колонка-кнопка Редактировать.

6.Страница Автор.
Поля: Имя

7.Страница Marketplaces.

Таблица со столбцами: Наименование.

8.Страница Валюты.
Таблица со столбцами: наименование, метка (USD, INR, etc.), коэффициент пересчета по отношению к USD(редактировать прямо в таблице).
Коэффициент для USD равен 1.
Первоначально в систему добавить след. валюты: USD, GBR, EURO, JPY, INR, CAD, BRL, MXN, AUD.

9.Страница KDP.
Таблица со столбцами: Наименование.

10.Страница Raw royalty.

Форма фильтрации, поля: title книги(текст. поле), период - дата начала, дата конца (искать по royalty date) - календарики, KDP (выпадающий список с выбором 0 или 1 элемента) - если не выбрано ничего то поиск по всем KDP


Таблица со столбцами: KDP(Наименование KDP), Royalty date, title книги, имя автора, ASIN книги, имя рекл. площадки, royalty type, transaction type, units sold (кол-во проданных экземпляров - целое число), Units Refunded (кол-во книг, которые читатели вернули-целое число), Net Units Sold (кол-во купленных, после вычета возвратов), Avg. List Price without tax (это цена), Royalty (число-длина 11,4), Currency (валюта)


11.Страница Best Sellers Report.
Форма фильтрации, поля: title книги(искать по фразе), период(начало, конец), аккаунт KDP (выпад. список), кол-во книг(текст. поле, по умолчанию значение 100) - задает лимит элементов в таблице.
Блок кнопок: Выгрузка в HTML (показывать в новой вкладке как таблицу со всеми данными) Нужно выгружать содержимое таблицы с учетом сортировки и заполненной формы фильтрации.
Таблица со столбцами: Book(наименование), Author(наименование), ASIN(уник. книги), Amazon Best Sellers Rank(ранк книги, последнее значение), Account Name(KDP наименование), Publication Date(дата публикации книги - submitted on).

12.Страница Units Sold Report
Форма фильтрации, поля: title книги(искать по фразе), период(начало, конец), аккаунт KDP (выпад. список), кол-во книг(текст. поле, по умолчанию значение 100) - задает лимит элементов в таблице.
Блок кнопок: Выгрузка в HTML (показывать в новой вкладке как таблицу со всеми данными) Нужно выгружать содержимое таблицы с учетом сортировки и заполненной формы фильтрации.
Таблица со столбцами: Book(наименование), Author(наименование), ASIN(уник. книги), Units Sold(кол-во проданных экземпляров - целое число, Account Name(KDP наименование), Publication Date(дата публикации книги - submitted on).

Ведущими столбцами таблицы являются: Book. Для каждой книжки отдельная строчка.


13.Страница Free Units Report
Форма фильтрации, поля: title книги(искать по фразе), период(начало, конец), аккаунт KDP (выпад. список).
Блок кнопок: Выгрузка в HTML (показывать в новой вкладке как таблицу со всеми данными) Нужно выгружать содержимое таблицы с учетом сортировки и заполненной формы фильтрации.
Таблица со столбцами: Book(наименование), Author(наименование), ASIN(уник. книги), Free Promo Date(Royalty date (столбец А) из эксель импортиуремого файла), Free Promo Units(значение Net Units Sold (столбец J) из импортируемого эксель файла), Account Name(KDP наименование), Publication Date(дата публикации книги - submitted on).

Ведущими столбцами таблицы являются: Free Promo Date, Book. Для каждой промо даты и книжки отдельная строчка.

14.Страница Reviews Report
Форма фильтрации, поля: поля: title книги(искать по фразе), период(начало, конец), аккаунт KDP (выпад. список), поле “ревью Less-equal then” и формат ввода: число. Это даст системе знать какие значения должны быть в ревью. Поиск по значению ревью.
Блок кнопок: Выгрузка в HTML (показывать в новой вкладке как таблицу со всеми данными) Нужно выгружать содержимое таблицы с учетом сортировки и заполненной формы фильтрации.
Таблица со столбцами: Book(наименование), Author(наименование), ASIN(уник. книги), Reviews(ревью книги), Account Name(KDP наименование), Publication Date(дата публикации книги - submitted on).

Ведущими столбцами таблицы являются: Book. Для каждой книжки отдельная строчка.

15.Страница Detailed Sales Report.
Форма фильтрации, поля: поля: title книги(искать по фразе), период(начало, конец), аккаунт KDP (выпад. список).
Блок кнопок: Выгрузка в HTML (показывать в новой вкладке как таблицу со всеми данными) Нужно выгружать содержимое таблицы с учетом сортировки и заполненной формы фильтрации.
Таблица, столбцы: Book(наименование), Author(наименование), ASIN(уник. книги), Amazon Best Sellers Rank(ранк книги, последнее значение), Publication date(дата публикации книги - submitted on), Reviews Number(ревью книги), Customers Rating(рейтинг книги - на странице книги на Амазоне, это рейтинг книги от 1 до 5), Net Paid Units (Units Sold минус Units Refunded), Units Refunded, Free Units (значение Net Units Sold (столбец J) из импортируемого эксель файла), Price (можно взять из столбца K (Avg. List Price without tax) либо из личного кабинета KDP), Royalties Earned (converted in USD) брать значение Royalty и текущую валюту и расчет выводить в USD.

Ведущими столбцами таблицы являются: Book. Для каждой книжки отдельная строчка.

Роль Менеджер.

Все страницы роли администратор, кроме страниц 1,2,16


Импорт данных из внешних систем.
Импортировать нужно из 4 аккаунтов KDP. Для каждого из них будут представлены логин, пароль.

а) По таймеру каждый день в 00:00 заходим в личные кабинеты списка книг и проверяем какие надо добавить и загрузить в систему книгу.
Есть в базе книга или нет, нужно также загружать данные: ранк, рейтинг, ревью из страницы книги. Для выборки данных по книге нужно на главной амазона в строку поиска вставить ASIN книги.

б) По таймеру каждый день в 00:00 запускать команду на загрузку raw royalty c сайта. Из эксель файла надо выгружать следующие столбцы: Royalty Date, Title, Author Name, ASIN, Marketplace, Royalty Type, Transaction Type, Units sold, Units Refunded, Net Units Sold, Avg. List Price without tax, Avg. File Size (MB), Avg. Offer Price without tax, Avg. Delivery Cost, Royalty, Currency


При импорте данных нужно проверять есть ли книга уже в базе на основе уникального ASIN значения книги, также проверять наличие рекламной площадки по ее наименованию, также проверять наличие автора по его имени, если нет то создавать.
